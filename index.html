<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Shimmy - Flipbook Animation</title>
    <link href="css/fontawesome.css" rel="stylesheet" />
    <link href="css/regular.css" rel="stylesheet" />
    <link href="css/solid.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/select-css.css" />
    <link rel="stylesheet" href="lib/dialog-polyfill.css" />
  </head>
  <body>
    <header>
      <button onclick="hideUI(this)" id="shimmy" title="shimmy">
        <i class="far fa-palette fa-3x"></i>
      </button>
      <!-- Always visible, no toggle -->
      <nav class="toolbar active" id="always">
        <div class="feedback framecount">
          <label>Frame</label>
          <output>X of Y</output>
        </div>
        <div class="feedback undo">
          <button class="primary" title="Frame Undo" id="frameundo" onclick="undo.frameUndo()">
          </button>
          <button class="secondary" title="Document Undo" id="docundo" onclick="undo.docUndo()">
          </button>
        </div>
        <div class="feedback redo">
          <button class="primary" title="Frame Redo" id="frameredo" onclick="undo.frameRedo()">
          </button>
          <button class="secondary" title="Document Redo" id="docredo" onclick="undo.docRedo()">
          </button>
        </div>
      </nav>

      <!-- FILE -->
      <nav class="toolbar" id="file-toolbar">
        <button
          onclick="selectToolbar(this)"
          id="file"
          title="File"
          class="js-tab tab"
        >
          <span>File</span>
        </button>
        <button onclick="file.new()" title="New file">
          New<br />
          <i class="far fa-2x fa-file-alt"></i>
        </button>
        <button onclick="openSvg()" title="Load file">
          Load<br />
          <i class="far fa-2x fa-upload"></i>
        </button>
        <button onclick="saveAsSvg()" title="Save file">
          Save<br />
          <i class="far fa-2x fa-download"></i>
        </button>
          <button onclick="saveAsGif()" title="Save as GIF">
            Save as GIF
          </button>
          <button onclick="saveAsSpritesheet()" title="Save as PNG">
            Save as PNG
          </button>
        <div class="feedback moat" id="moat-container">
          <button id="save-moat" onclick="saveToMoat()">
            Save to Moat
          </button>
          <select id="moat" class="js-moat select-css"> </select>
        </div>
      </nav>

      <!-- DRAW -->
      <nav class="toolbar active" id="draw-toolbar">
        <button
          onclick="selectToolbar(this)"
          id="draw"
          title="Draw"
          class="js-tab tab"
        >
          <span>Draw</span>
        </button>
        <div class="feedback tools">
          <label
            >Tool<br />
            <select
              id="toolpicker"
              class="tools select-css far"
              onchange="selectTool(this)"
            >
              <option value="pen" selected>&#xf304; Pen</option>
              <option value="rotate">&#xf021; Rotate</option>
              <option value="move">&#xf047; Move</option>
              <option value="zoomin">&#xf00e; Zoom In</option>
              <option value="zoomout">&#xf010; Zoom Out</option>
            </select>
          </label>
        </div>
        <div class="feedback pensize">
          <label class="pensize">Pen Size</label>
          <input
            id="pensize"
            onchange="currentStrokeWidth = Number(this.value);"
            type="number"
            min="1"
            max="30"
            value="2"
            title="Pen Size"
          />
        </div>
        <div class="feedback palette">
          <label
            >Palette<br />
            <select
              id="colorpalette"
              class="palettechooser js-colorpalette select-css"
            >
            </select>
          </label>
        </div>
        <div class="stack colors">
          <button
            onclick="colorPopup(this)"
            title="Pen Colour"
            id="pencolor"
            value="#000000"
            class="js-color fgcolor colorwell"
          >
            Color
          </button>
          <button
            onclick="colorPopup(this)"
            title="Background Color"
            value="#FFFFFF"
            class="js-bgcolor colorwell bgcolor"
            id="backgroundcolor"
          >
            Bkground
          </button>
        </div>
        <div class="stack colors quickcolors">
          <button
            onclick="selectColor(this)"
            ondblclick="colorPopup(this)"
            id="color1"
            class="color miniwell js-miniwell"
          ></button>
          <button
            onclick="selectColor(this)"
            ondblclick="colorPopup(this)"
            id="color2"
            class="color miniwell js-miniwell"
          ></button>
          <button
            onclick="selectColor(this)"
            ondblclick="colorPopup(this)"
            id="color3"
            class="color miniwell js-miniwell"
          ></button>
          <button
            onclick="selectColor(this)"
            ondblclick="colorPopup(this)"
            id="color4"
            class="color miniwell js-miniwell"
          ></button>
          <button
            onclick="selectColor(this)"
            ondblclick="colorPopup(this)"
            id="color5"
            class="color miniwell js-miniwell"
          ></button>
          <button
            onclick="selectColor(this)"
            ondblclick="colorPopup(this)"
            id="color6"
            class="color miniwell"
            value="#666666"
            style="background-color: #666666;"
          ></button>
          <button
            onclick="selectColor(this)"
            ondblclick="colorPopup(this)"
            id="color7"
            class="color miniwell"
            value="#000000"
            style="background-color: #000000;"
          ></button>
          <button
            onclick="selectColor(this)"
            ondblclick="colorPopup(this)"
            id="color8"
            class="color miniwell"
            value="#FFFFFF"
            style="background-color: #FFFFFF;"
          ></button>
        </div>
      </nav>

      <!-- FRAMES -->
      <nav class="toolbar" id="frames-toolbar">
        <button
          onclick="selectToolbar(this)"
          id="frames"
          title="Frames"
          class="js-tab tab"
        >
          <span>Frames</span>
        </button>
        <button onclick="deleteFrame()" title="Delete Frame">
          Delete<br />
          <span class="fa-stack">
            <i class="fas fa-film-alt fa-stack-2x"></i>
            <i class="far fa-minus fa-stack-1x fa-inverse"></i>
          </span>
        </button>
        <button onclick="addFrame()" title="Add Frame">
          Add<br />
          <span class="fa-stack">
            <i class="fas fa-film-alt fa-stack-2x"></i>
            <i class="far fa-plus fa-stack-1x fa-inverse"></i>
          </span>
        </button>
        <button onclick="cloneFrame()" title="Copy Frame">
          Copy<br />
          <i class="far fa-photo-video fa-2x"></i>
        </button>
        <button onclick="_clear();" title="Clear">
          Clear<br/>
          <i class="far fa-2x fa-sparkles"></i>
        </button>
        <button onclick="gotoFirstFrame()" title="First Frame">
          First<br />
          <i class="far fa-2x fa-fast-backward"></i>
        </button>
        <button onclick="decrementFrame()" title="Previous Frame">
          Back<br />
          <i class="far fa-2x fa-step-backward"></i>
        </button>
        <button onclick="incrementFrame()" title="Next Frame">
          Next<br />
          <i class="far fa-2x fa-step-forward"></i>
        </button>
        <button onclick="gotoLastFrame()" title="Last Frame">
          Last<br />
          <i class="far fa-2x fa-fast-forward"></i>
        </button>
        <div class="feedback onionskin">
          <label>
            Onionskin
            <input
              type="checkbox"
              checked
              id="doonionskin"
              onchange="setOnionSkin(this);"
            />
            <i class="unchecked far fa-square"></i>
            <i class="checked far fa-check-square"></i>
          </label>
        </div>
      </nav>
      <!-- ANIMATE -->
      <nav class="toolbar" id="animate-toolbar">
        <button
          onclick="selectToolbar(this)"
          id="animate"
          title="Animate"
          class="js-tab tab"
        >
          <span>Animate</span>
        </button>
        <button onclick="play()" title="Play">
          Play<br />
          <i class="far fa-2x fa-play"></i>
        </button>
        <button title="Stop" hidden>
          Stop<br />
          <i class="far fa-2x fa-stop"></i>
        </button>
        <div class="feedback framerate" 
>         <label title="Frames Per Second">FPS</label>
          <input
            id="framerate"
            type="number"
            value="10"
            onchange="setFrameRate(this);"
          />
        </div>

      </nav>
    </header>
    <div class="popup-color"></div>
    <dialog></dialog>
    <script src="lib/dialog-polyfill.js"></script>
    <script src="lib/svgToDataURL.js"></script>
    <script src="lib/gif.js"></script>
    <script src="lib/html5-color-picker.js"></script>
    <script src="lib/qrcode.js"></script>
    <script src="lib/timeago.js"></script>
    <script src="lib/simplify.js"></script>
    <script src="js/palettes.js"></script>
    <script src="js/dom.js"></script>
    <script src="js/file.js"></script>
    <script src="js/undo.js"></script>
    <script src="js/script.js"></script>
    <script src="js/stepper.js"></script>
  </body>
</html>
